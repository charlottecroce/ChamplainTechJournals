# Lab 6-2 NAT Configuration - PAT
In this example our internal network is using the 192.168.0.0 network and we have one public ip addresses to use- 30.0.0.120.

- R1 is going to be the NAT device

## configure router interfaces
R1
```
interface fa0/0
ip address 192.168.0.1 255.255.255.0
no shut

interface s0/0/0
ip addr 30.0.0.1 255.0.0.0
no shut
```
R2
```
interface fa0/0
ip address 20.0.0.1 255.0.0.0
no shut

interface s0/0/0
ip addr 30.0.0.2 255.0.0.0
clock rate 64000
bandwidth 64
no shut
```

## Configure Routing

R1: Set the Default Route to Router 2
```
ip route 0.0.0.0 0.0.0.0 30.0.0.2
```
At this point, there should be no connectivity between the PC's and the external networks/server. Ping will fail to 20.0.0.2

## Configure PAT on Router 1

1. Define "Inside" and "Outside" interfaces
```
interface fa0/0
ip nat inside
interface serial 0/0/0
ip nat outside
```

2. Create Address Pool named "test" for the Public IP addresses that 192.168 clients can use. It only has 1 IP in the pool (30.0.0.120)
```
ip nat pool test 30.0.0.120 30.0.0.120 netmask 255.0.0.0
```

3. Create an access-list that defines which internal IP's can use the Public IP pool test
```
access-list 1 permit 192.168.0.0 0.0.0.255
```

4. Assign pool and access rule to interface with nat statement - basically saying that access-list 1 (192.168.0 addresses) can be translated to the PAT IP' from pool "test" when going from the "inside" to "outside". Overload states that the IP can be used by many (up to 64,000) clients.
```
ip nat inside source list 1 pool test overload
```

If PAT is working, you should be able to connect the web service on the server (20.0.0.2) from the browser on multiple PC's


To verify PAT:
```
show ip nat translations
```
